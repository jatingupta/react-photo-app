(this["webpackJsonpreact-photo-app"]=this["webpackJsonpreact-photo-app"]||[]).push([[0],[,,,,function(e,t,o){e.exports={photo:"Photo_photo__DOgDx",imgContainer:"Photo_imgContainer__1_ExJ",likeBox:"Photo_likeBox__1zJVt",postCommentBox:"Photo_postCommentBox__3dDTr",likes:"Photo_likes__28qqV",likeCount:"Photo_likeCount__Z_EtZ",category:"Photo_category__1mxFe",displayCommentBox:"Photo_displayCommentBox__1i0GR"}},,function(e,t,o){e.exports={filters:"Filters_filters__12Us1",link:"Filters_link__1WR7O",input:"Filters_input__8_PR4"}},,,,,function(e,t,o){e.exports={gallery:"Gallery_gallery__1r2FY"}},function(e,t,o){e.exports={pageHeader:"PageHeader_pageHeader__3XA5L"}},function(e,t,o){e.exports={wrapper:"Modal_wrapper__3e00S"}},,,,,,function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),a=o(2),c=o.n(a),r=o(10),s=o.n(r),i=(o(19),o(3)),l=o(1),d=Object(a.createContext)([]),u=o(11),j=o.n(u);var p=function(){var e=Object(a.useContext)(d),t=e.dispatch,o=e.store,c=o.filteredPhotos;return Object(n.jsx)("section",{className:j.a.gallery,children:c.length?c.map((function(e,o){return Object(n.jsx)(R,Object(l.a)({dispatch:t,photos:c},e),e.id)})):Object(n.jsx)("div",{children:o.loading?"Loading photos...":"Sorry, no results found matching your search criteria."})})},h=function(e){var t=e.type,o=e.id,a=e.className,c=e.label,r=e.placeholder,s=e.value,i=e.updateValue;return Object(n.jsx)("label",{"aria-label":c,htmlFor:o,children:Object(n.jsx)("input",{onChange:function(e){i(e.target.value)},type:t,value:s,className:a,placeholder:r})})},O=function(e){var t=Object(a.useState)(e.initialValue),o=Object(i.a)(t,2),c=o[0],r=o[1];return Object(a.useEffect)((function(){e.cb&&e.cb(c)}),[c]),[c,Object(n.jsx)(h,Object(l.a)({value:c,updateValue:r},e)),r]},b="SORT_BY_MOST_LIKED",m="SORT_BY_MOST_COMMENTED",f="FILTER_BY_CATEGORY",y="FETCH_PHOTOS",_="FETCH_PHOTOS_SUCCESS",x="FETCH_PHOTOS_ERROR",g="UPDATE_PHOTOS",v=function(e){return{type:g,payload:e}},C=o(6),k=o.n(C),P={type:"text",initialValue:"",id:"filter",className:"filter",label:"Search images",placeholder:"Search category"};var B=function(){var e=Object(a.useContext)(d),t=e.dispatch,o=e.store.filters,c=O(Object(l.a)(Object(l.a)({},P),{},{cb:function(){var e;t((e=Object(l.a)(Object(l.a)({},o),{},{category:s}),{type:f,payload:e}))}})),r=Object(i.a)(c,2),s=r[0],u=r[1];return Object(n.jsxs)("section",{className:k.a.filters,children:[Object(n.jsx)("div",{className:k.a.link,children:Object(n.jsx)("span",{id:"mostLiked",style:{fontWeight:o.sortByMostLiked?"bold":"normal"},onClick:function(){return t((e=o,{type:b,payload:Object(l.a)(Object(l.a)({},e),{},{sortByMostCommented:!1,sortByMostLiked:!0})}));var e},children:"Most liked"})}),Object(n.jsx)("div",{className:k.a.link,children:Object(n.jsx)("span",{id:"mostCommented",style:{fontWeight:o.sortByMostCommented?"bold":"normal"},onClick:function(){return t((e=o,{type:m,payload:Object(l.a)(Object(l.a)({},e),{},{sortByMostCommented:!0,sortByMostLiked:!1})}));var e},children:"Most commented"})}),Object(n.jsx)("div",{id:"category",className:k.a.input,children:u})]})},T=o(12),N=o.n(T);var S=function(e){var t=e.text,o=void 0===t?"Imaginary":t;return Object(n.jsx)("header",{className:N.a.pageHeader,children:Object(n.jsx)("h1",{children:o})})},M=o(9),L=o(4),E=o.n(L),F={type:"text",initialValue:"",className:"comment",label:"Comment",placeholder:"Type your commment here..."};var R=function(e){var t=e.photos,o=e.dispatch,c=e.id,r=e.category,s=e.comments,d=e.likes,u=e.url,j=O(Object(l.a)(Object(l.a)({},F),{},{id:c})),p=Object(i.a)(j,3),h=p[0],b=p[1],m=p[2],f=Object(a.useState)(!1),y=Object(i.a)(f,2),_=y[0],x=y[1],g=function(){return[t.find((function(e){return e.id===c})),t.filter((function(e){return e.id!==c}))]};return Object(n.jsxs)("div",{className:"".concat(E.a.photo," photo"),children:[Object(n.jsx)("div",{className:E.a.imgContainer,children:Object(n.jsx)("img",{src:u})}),Object(n.jsxs)("div",{className:E.a.likeBox,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:E.a.likeCount,children:d}),Object(n.jsx)("span",{className:E.a.likes,onClick:function(){var e=g(),t=Object(i.a)(e,2),n=t[0],a=t[1];n.likes=_?n.likes-1:n.likes+1,x(!_),o(v([].concat(Object(M.a)(a),[n])))},children:_?"Unlike":"".concat(d>1?"Likes":"Like")})]}),Object(n.jsx)("span",{className:E.a.category,children:r})]}),Object(n.jsxs)("div",{className:E.a.postCommentBox,children:[b,Object(n.jsx)("button",{onClick:function(){if(h){var e=g(),t=Object(i.a)(e,2),n=t[0],a=t[1];n.comments=n.comments.concat(h),o(v([].concat(Object(M.a)(a),[n]))),m("")}},children:"Post"})]}),Object(n.jsx)("div",{className:E.a.displayCommentBox,children:s.map((function(e,t){return Object(n.jsx)("p",{children:e},"".concat(t,"-").concat(c))}))})]})},H=(o(13),{photos:[],filteredPhotos:[],filters:{sortByMostLiked:!1,sortByMostCommented:!1,categoryToFilterBy:""},error:"",loading:!1}),w=function(e,t){var o=e.filter((function(e){return!t.category||e.category.toLowerCase().includes(t.category.toLowerCase())}));return t.sortByMostLiked?o.sort((function(e,t){return t.likes-e.likes})):o.sort((function(e,t){return t.comments.length-e.comments.length}))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(l.a)(Object(l.a)({},e),{},{error:!1,loading:!0});case _:return Object(l.a)(Object(l.a)({},e),{},{photos:t.payload,filteredPhotos:t.payload,error:!1,loading:!1});case x:return Object(l.a)(Object(l.a)({},e),{},{error:!0,loading:!1});case b:case m:case f:return Object(l.a)(Object(l.a)({},e),{},{filters:t.payload,filteredPhotos:w(e.photos,t.payload)});case g:return Object(l.a)(Object(l.a)({},e),{},{photos:t.payload});default:return e}};var V=function(){var e=Object(a.useReducer)(D,H),t=Object(i.a)(e,2),o=t[0],c=t[1];return Object(a.useEffect)((function(){c({type:y}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(o,n){fetch(e,t).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return n(e)}))}))}("https://raw.githubusercontent.com/Lokenath/MyRepo/master/Test/package.json").then((function(e){var t;c((t=e.pics,{type:_,payload:t}))})).catch((function(e){c({type:x})}))}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(d.Provider,{value:{store:o,dispatch:c},children:[Object(n.jsx)(S,{text:"React Photo App"}),Object(n.jsx)(B,{}),Object(n.jsx)(p,{})]})})},A=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,21)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;o(e),n(e),a(e),c(e),r(e)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root")),A()}],[[20,1,2]]]);
//# sourceMappingURL=main.8fb77428.chunk.js.map